# Figure Generation Notebooks

**This directory contains ALL plots for the paper - this is the ONLY place where publication figures are generated.**

## Purpose

These notebooks load processed data from `/processed_data/` (generated by notebooks in `get_processed_data/`) and create publication-quality figures saved to `/figures/`.

## Notebooks

### Main Text Figures

- **`main_text_figures.ipynb`**
  - Generates all main text figures for the publication
  - Includes: Figure 2, Figure 3, Figure 4, Figure 5b, Figure 5c, and related panels
  - Each figure section can be run independently
  - Output: PDF files in `/figures/`

### Supplementary/Appendix Figures

- **`appendices_figures.ipynb`**
  - Generates supplementary and appendix figures
  - Includes appendix figures and additional supporting plots
  - Output: PDF files in `/figures/` (typically prefixed with `app_`)

## Workflow

1. **Load processed data** from `/processed_data/` using `common_scripts.data_loader`
2. **Create plots** using standardized plotting utilities from `common_scripts.plot_utils`
3. **Save figures** to `/figures/` directory in publication-ready format (PDF)

## Figure Organization

Generated figures are saved to `/figures/` with descriptive names:

```
figures/
├── fig2_stationary.pdf
├── fig3_two_point_correlation.pdf
├── fig4_shuttling_T2.pdf
├── fig5_b.pdf
├── fig5_c.pdf
├── fig5_d.pdf
├── app_shuttlingdata_high_field.pdf
├── app_shuttlingdata_low_field.pdf
├── app_two_point_high_field.pdf
├── app_two_point_low_field.pdf
├── app_tradeoff.pdf
└── ...
```

## Usage

### Generating Main Text Figures

1. Open `main_text_figures.ipynb`
2. Run the notebook sections for the figures you need
3. Figures are automatically saved to `/figures/` directory
4. Each figure section is self-contained and can be run independently

### Generating Appendix Figures

1. Open `appendices_figures.ipynb`
2. Run the notebook to generate all appendix figures
3. Check `/figures/` for output files

## Common Functions

All plotting notebooks use shared utilities from `common_scripts/`:

```python
from common_scripts.data_loader import load_figure_data
from common_scripts.plot_utils import (
    save_figure,
    COLORS,
    FIG_SIZES,
    set_publication_style,
    # ... other plotting utilities
)
```

### Example Workflow

```python
# Load processed data
data = load_figure_data('fig4', field='high')

# Create figure with publication style
fig, ax = plt.subplots(figsize=FIG_SIZES['single_column'])
set_publication_style()

# Plot data
ax.plot(data['time'], data['amplitude'], 
        color=COLORS['high_field'], label='High Field')

# Save figure
save_figure(fig, 'fig4_shuttling_T2.pdf', 'fig4')
```

## Dependencies

- `common_scripts/data_loader.py` - Loading processed data files
- `common_scripts/plot_utils.py` - Standardized plotting functions and styles
- `common_scripts/correlation_fun.py` - Correlation function plotting (if needed)
- Matplotlib for figure generation
- Processed data files in `/processed_data/` (generated by notebooks in `get_processed_data/`)

## Notes

- **This is the ONLY directory where plots for the paper are generated**
- All processed data must be generated first by running notebooks in `get_processed_data/`
- Figures use consistent styling defined in `plot_utils.py`
- Color schemes are standardized (high field = red, low field = blue, etc.)
- Figure sizes follow publication standards (single column, double column, etc.)
- All figures are saved as PDFs for publication use
- Ensure processed data exists in `/processed_data/` before running plotting notebooks

